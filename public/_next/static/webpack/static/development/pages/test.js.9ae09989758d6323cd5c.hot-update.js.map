{"version":3,"file":"static/webpack/static/development/pages/test.js.9ae09989758d6323cd5c.hot-update.js","sources":["webpack:///./pages/test.js"],"sourcesContent":["import Layout from '../components/layout'\nimport Head from 'next/head'\nimport CourseJson from './apiComponents/courseJson.js'\nimport ProductJson from './apiComponents/productJson.js'\nimport CategoryJson from './apiComponents/categoryJson.js'\n// bootstrap\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n\nconst Test = ({courses, products, categories, title = 'Courses show menu'}) => {\n  // 當api抓取到值之後，props把接到的值map進li當中\n  // 這裡href為pages/p/[id].js但是後面使用as來代替為api中的id值\n  return (\n    <>\n      <Head><title>{title}</title></Head>\n      <Layout>\n        <Container fluid>\n          <Row>\n            <Col className='d-none d-sm-none d-md-block' md={1} lg={2} xl={2}>\n            </Col>\n            <Col xs={12} sm={12} md={10} lg={8} xl={8}>\n              <h1>Course shows</h1>\n              <CourseJson courses={courses} />\n              <hr />\n              <ProductJson products={products} />\n              <hr />\n              <CategoryJson categories={categories} />\n            </Col>\n            <Col className='d-none d-sm-none d-md-block' md={1} lg={2} xl={2}></Col>\n          </Row>\n        </Container>\n      </Layout>\n    </>\n  )\n}\n\n// es6的function async寫法\n// es5寫成 export async function getStaticProps(){}\nexport const getInitialProps = async ({ start_num = 2, limit_num = 3 }) => {\n  // 使用.env裡面的http://localhost/1337來抓取api網址\n  const { API_URL } = process.env\n\n  const res_course = await fetch(`${API_URL}/courses`)\n  const res_product = await fetch(`${API_URL}/products`)\n  // 只抓取特定頁面的話可以用/categories?_start=4&_limit=1\n  const res_category = await fetch(`${API_URL}/categories?_start=${start_num}&_limit=${limit_num}`)\n\n  const data_course = await res_course.json()\n  const data_product = await res_product.json()\n  const data_category = await res_category.json()\n\n  return {\n    props: {\n      courses: data_course ,\n      products: data_product ,\n      categories: data_category\n    }\n  }\n}\n\nexport default Test\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAGA;AACA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAIA;AAJA;AAAA;AACA;AADA;AAKA;AALA;AAAA;AACA;AADA;AAOA;AAPA;AAAA;AACA;AADA;AASA;AATA;AAAA;AACA;AADA;AAUA;AAVA;AAAA;AACA;AADA;AAWA;AAXA;AAcA;AACA;AACA;AACA;AAHA;AADA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;;;;A","sourceRoot":""}